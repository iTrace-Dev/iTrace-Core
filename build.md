### SUPPORTED ARCHITECTURES
	* x64 (QT libraries are 64bit only for Visual Studio 2017)
	
### DEPENDENCY STRUCTURE NOTES
	* Tobii pro sdk dlls and lib files must be in the same directory
	
### REQUIREMENTS
* QT 5.10.0
* Git
* Visual Studio 2017
* Tobii Pro SDK v1.2.0.33 (newer versions not supported)
* CMAKE (only for cmake builds)

### WINDOWS BUILD
* Clone iTrace-Core repo
* Extract contents of [dependency zip](https://drive.google.com/file/d/1kiDMIgbbvRWB2h_rz3nkJZsjFLu56SYg/view?usp=sharing) to a folder named "deps" in root of
	iTrace-Core repository
	
### BUILDING IN QT CREATOR
* Project paths should be configured correctly for Windows if the above steps are followed. If not, follow instructions below for QT Creator.
* NOTE: You might need to delete old build directories generated by Qt in order for auto generated files to be properly configured.

* Ensure project is type is set to: Desktop QT 5.10.0 MSVC2017 64bit
* Double click itrace_core.pro 
	* If it contains any path/build information for the tobii sdk as seen below, remove it
	
	```
	win32: LIBS += -L$$PWD/../../../Downloads/TobiiPro.SDK.C_Binding.Windows_1.2.0.33/64/lib/ -ltobii_research
	INCLUDEPATH += $$PWD/../../../Downloads/TobiiPro.SDK.C_Binding.Windows_1.2.0.33/64/include
	DEPENDPATH += $$PWD/../../../Downloads/TobiiPro.SDK.C_Binding.Windows_1.2.0.33/64/include
	```
	
* Highlight itrace_core
	* right click add library
		* external library
		* browse to library file (..\iTrace-Core\deps\x64\release\lib\tobii_research.lib)
		* browse to include file (..\iTrace-Core\deps\include\tobii_sdk)
		* platform
			* only check "Windows"
		* linkage
			* static
		* uncheck add "d" for debug libraries
* Issues
	* When performing a fresh installation of the latest QT/QT Creator it is possible that iTrace core will be built, but QT Creator will refuse to run the application. A potential solution to this issue is to add the windows system32 directory to the user's environment variable path.

## THE INFORMATION BELOW IS OUT-DATED FOR THE NEW ARCHITECTURE..

### BUILDING WITH CMAKE (ONLY SUPPORTS RELEASE BUILDS...FOR NOW)
* Create a user or system environment variable called "QT_CMAKE_DIR"
* This variable needs to identify the path to QT, the appropriate QT version, and the compilation target.
* Example:
	* To target QT 5.9.3 for microsoft visual c++ 2017 64-bit, the environment variable would be similar to this:
	* C:\Qt\5.9.3\msvc2017_64

#### CLI
* Open a cmd prompt (not powershell)
* Create a build directory outside of the iTrace-Core directory
* Run the command from build directory:
	cmake [path-to-sourcecode]\iTrace-Core -G "Visual Studio 15 2017 Win64"
* You can now run the build command from the build directory:
	cmake --build . --config release
* You can also run the win_build.bat script to create a build directory and build iTraceCore

#### CMake GUI + Visual Studio
* Open CMake GUI
* Use the first browse button to locate the iTrace-Core source directory
* Use the second browse button to locate the directory where you would like to built
	* Use a directory OUTSIDE of the source code directory
* Click configure
* Choose the Visual Studio 15 2017 Win64 Generator
* Leave default native compilers selected
* Click finish
* When configuration is complete, click Generate.
* You can click Open Project to launch visual studio or open the project file from your selected
	build directory
* In Visual Studio, set project build configuration dropdown to Release
* In solution explorer right click itrace and select "set as startup project"
* In solution explorer right click itrace and select "build"
* You should now be able to use the play button to run iTrace-Core
